create table if not exists users (
	name varchar(25) not null,
	password varchar(25) not null,
	gcm_id text not null,
	user_created_at timestamp not null default CURRENT_TIMESTAMP,
	primary key (name)
) ENGINE=InnoDB default CHARSET=latin1;

create table if not exists games (
	game_id int not null AUTO_INCREMENT,
	player1_name varchar(25) not null,
	player2_name varchar(25) not null,
	game_created_at timestamp not null default CURRENT_TIMESTAMP,
	accepted boolean default false not null,
	in_process boolean default false not null,
	primary key (game_id)	
) ENGINE=InnoDB default CHARSET=latin1 AUTO_INCREMENT=1;

create table if not exists moves (
	move_id int not null AUTO_INCREMENT,
	game_id int not null,
	move_created_at timestamp not null default CURRENT_TIMESTAMP,
	move varchar(20) not null,
	primary key (move_id)	
) ENGINE=InnoDB default CHARSET=latin1 AUTO_INCREMENT=1;

create table if not exists friends (
	player_name varchar(25) not null,
	friend_name varchar(25) not null,
	friendship_added_at timestamp not null default CURRENT_TIMESTAMP,
	primary key (player_name,friend_name)	
) ENGINE=InnoDB default CHARSET=latin1;
